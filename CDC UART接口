什么是CDC类 （Communication Device Class）

对于最终用户而言，有了通用串行总线 （UniversalSerial Bus，USB），把外部设备连接到个人计算机上，已经变得非常简单，几乎不再需要过去必不可少的大量连接线。 RS-232 串行 COM 端口便是不再需要的连接
之一，它已经越来越罕见。事实上，由于很多时髦的笔记本电脑已经不再配备 RS-232 串行 COM 端口，因此对于那些需要从外部设备到主机 PC 的串行通信通道的开发人员而言，这可能是一个挑战。
幸运的是，设备可以使用 USB 通信设备类（Communication Device Class，CDC），它使得用户能够充分利用USB的简单性，同时还提供COM端口功能。CDC 是通信设备连接 USB 的接口。尽管旨在用于诸如调制解调器这样的设备以及网络接口，CDC 的功能子集也可以用来仿真串行端口，从而提供“虚拟的”UART。
USB 的总体灵活性和功能，需要用于设备标识、配置、控制和数据传输的管理协议。Microchip PIC32 CDC 串行驱动程。

　　USB的CDC类是USB通信设备类 （Communication Device Class）的简称。CDC类是USB组织定义的一类专门给各种通信设备（电信通信设备和中速网络通信设备）使用的USB子类。
根据CDC类所针对通信设 备的不同，CDC类又被分成以下不同的模型：USB传统纯电话业务（POTS）模型，USB ISDN模型和USB网络模型。
其中，USB传统纯电话业务模型，有可分为直接线控制模型（Direct Line Control Model）、抽象控制模型（Abstract Control Model）和USB电话模型（USB Telephone Model）
  
通用异步收发传输器（Universal Asynchronous Receiver/Transmitter，通常称为UART）是一种异步收发传输器，是电脑硬件的一部分，将数据透过串列通讯和平行通讯间作传输转换。
#https://zh.wikipedia.org/wiki/UART
#https://blog.csdn.net/junyeer/article/details/46761853

UART通常用在与其他通讯接口（如EIA RS-232）的连接上。
具体实物表现为独立的模组化芯片，或是微处理器中的内部周边装置(peripheral)。一般和RS-232C规格的，类似Maxim的MAX232之类的标准信号幅度变换芯片进行搭配，作为连接外部设备的接口。
在UART上追加同步方式的序列信号变换电路的产品，被称为USART(Universal Synchronous Asynchronous Receiver Transmitter)。

功能
在手机设计和测试阶段被用来控制CPU与其余部分的讯息传送
UART是通用异步收发器（异步串行通信口）的英文缩写，它包括了RS232、RS449、RS423、RS422和RS485等接口标准规范和总线标准规范，即UART是异步串行通信口的总称。
而RS232、RS449、RS423、RS422和RS485等，是对应各种异步串行通信口的接口标准和总线标准，它规定了通信口的电气特性、传输速率、连接特性和接口的机械特性等内容。
实际上是属于通信网络中的实体层（Physical Layer）的概念，与通信协议没有直接关系。而通信协议，是属于通信网络中的资料链接层（Data Link Layer）的概念。
COM是PC（个人计算机）上，异步串行通信口的简写。由于历史原因，IBM的PC外部接口配置为RS232，成为实际上的PC界默认标准。
所以，现在PC机的COM均为RS232。若配有多个异步串行通信口，则分别称为COM1、COM2... 。

原理
通用异步接受器-发送器(UART)把数据的字节按照比特顺序发送[1]。另一端的UART把比特组装为字节。每个UART包含一个移位寄存器。通过一根线或其他媒介的串行通信比通过多根线的并行通信具有更低成本。
UART通常并不直接产生或接收其他设备的外部信号。独立接口设备用于转换信号的逻辑电平给UART。通信可以是单工、全双工或半双工。

数据帧
UART timing diagram.svg
空闲状态，即没有数据传输，是高电平。这是从（有线）电报时代的历史遗存。线路保持高电平表明线路与传输设备没有损坏。
每个字符表示为一个帧，以逻辑低电平为开始比特，然后是数据比特，可选的奇偶校验比特，最后是一个或多个停止比特（逻辑高电平）。
大部分应用都是先传最低位的数据比特（the least significant data bit），但也有例外（如IBM 2741打印终端）。
如果线路长期（至少大于传输一帧的时间）保持低电平，这被UART检测为Break condition.

接收器
UART硬件受一个内部时钟信号控制。该时钟信号是数据传输率的倍频，典型是比特率的8或16倍。接收器在每个时钟脉冲时测试接收到的信号状态是否为开始比特。
如果开始比特的低电平持续传输1个比特所需时间的一半以上，则认为开始了一个数据帧的传输；否则，则认为是毛刺脉冲并忽略。
到了下一个比特时间后，线路状态被采样并送入移位寄存器。约定的表示一个字符的所有数据比特(典型为5至8个比特）接收后，移位寄存器可被接收系统使用。
UART将设置一个标记指出新数据可用，并产生一个处理器中断请求主机处理器取走接收到的数据。
简化的UART在开始比特下降沿开始重新同步时间，然后在每个数据比特的中心时刻采样。

UART的标准特性之一是在接收下一个字符时在缓冲区保存上一个接收到的字符。这种“双缓冲区”允许接收计算机用一个字符的传输时段来获取缓冲区内的上一个字符。
许多UART有更大的FIFO缓冲区，允许主机一次处理多个字符，这特别适用于高传输数据率的串行通信同时处理器中断频率有限（通常中断间隔大于1毫秒）。

发送器
UART把一个字符放入移位寄存器，就开始产生一个数据帧。对于全双工通信，发送与接受使用不同的移位寄存器。使用更大的FIFO使得主机处理器或DMA放置多个字节后由UART自主完成传输。　
UART用一个标志位表示busy。

应用
接收与发送的UART必须达成数据帧协议。如果接收方发现这方面错误，会向主机报告"framing error"标志。
典型的连接moderm的串口，使用8个比特表示一个字节，没有奇偶校验位，1个停止位。比特率除以10就是发送ASCII字符的传输速率。
超低成本的嵌入式系统没有UART而是用处理器来实现异步串行通信。
